[JUNIE TASK]
Title: Scaffold Autonomous Implementation Agent — Juno (Junie-compatible executor)

Preconditions:
  - Repo: C:\Users\benny\IdeaProjects\agent-factory
  - Python ≥ 3.11 installed
  - Federation bridge active (JunieBridge service or manual run)
  - Cloudflared (optional) mapping 127.0.0.1:5050 to public hostname

What was added (this task):
  - New agent module: factory_agents/juno_implementation/main.py
    * Federation listener on --mode federation
    * Handles directives: ping, connectivity-test-004, exec (whitelist)
    * Writes responses to tasks/to_expert/Juno_Response_<timestamp>.json
    * Logs control-plane to logs/control_plane_activity.jsonl and audit to governance/federation_audit.jsonl
  - Updated federation/context_manifest.json
    * Added "Juno" to agents
    * Added permissions: "Juno": ["read", "write"]

Safe exec whitelist (Juno "exec" directives):
  - "pytest -q"
  - "python -m services.autogen.bridge --test"
  - "python utils/knowledge_indexer.py --scan"
  - "noop"

Run instructions:
  1) Start Juno listener (new terminal):
     powershell
     python factory_agents\juno_implementation\main.py --mode federation

  2) Send connectivity test (004):
     $ping = '{"type": "connectivity-test-004", "target": "Juno", "origin": "AgentFactoryExpert"}'
     Set-Content -Path tasks\from_expert\connectivity-test-004.json -Value $ping

  3) Verify response and logs:
     dir tasks\to_expert | Select-String Juno_Response
     Get-Content logs\control_plane_activity.jsonl -Tail 5
     Get-Content governance\federation_audit.jsonl -Tail 5

  4) Optional: exec directive (safe command):
     $exec = '{"type":"exec","target":"Juno","origin":"AgentFactoryExpert","cmd":"python -m services.autogen.bridge --test"}'
     Set-Content -Path tasks\from_expert\juno-exec.json -Value $exec

Expected artifacts:
  - tasks/to_expert/Juno_Response_<timestamp>.json (ok:true, reply: online/pong/exec_done)
  - logs/control_plane_activity.jsonl contains events: Agent Listener Online, processed, exec_start/exec_done
  - governance/federation_audit.jsonl contains the exchange records
  - federation/context_manifest.json lists "Juno" with ["read","write"]

Rollback:
  - Remove the Juno module:
    Remove-Item factory_agents\juno_implementation -Recurse -Force
  - Edit federation/context_manifest.json and remove "Juno" from agents and permissions

Security & governance:
  - No secrets introduced
  - Strict command whitelist; subprocess shell=False with timeout
  - Append-only JSONL logging for auditability
